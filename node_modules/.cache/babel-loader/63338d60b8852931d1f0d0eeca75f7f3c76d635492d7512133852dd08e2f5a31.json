{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Fefes\\\\Desktop\\\\Codo a Codo\\\\React CURSO\\\\Shopy Shop\\\\shopy-shopyv3\\\\src\\\\context\\\\cart\\\\CartProvider.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { CartContext } from \"./CartContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [cart, setCart] = useState([]);\n  const addItem = (item, quantity) => {\n    if (isInCart(item.id)) {\n      const newCart = cart.map(cartItem => {\n        if (cartItem.item.id === item.id) {\n          return {\n            item,\n            quantity: cartItem.quantity + 1\n          };\n        } else {\n          return cartItem;\n        }\n      });\n      setCart(newCart);\n    } else {\n      setCart([...cart, {\n        item,\n        quantity\n      }]);\n    }\n  };\n  const removeItem = itemId => {\n    const newCart = cart.filter(cartItem => cartItem.item.id !== itemId || cartItem.quantity > 1);\n    const newCart2 = newCart.map(cartItem => {\n      if (cartItem.item.id === itemId) {\n        return {\n          item: cartItem.item,\n          quantity: cartItem.quantity - 1\n        };\n      } else {\n        return cartItem;\n      }\n    });\n    setCart(newCart2);\n  };\n  const clear = () => {\n    setCart([]);\n  };\n  const isInCart = itemId => {\n    return cart.some(cartItem => cartItem.item.id === itemId);\n  };\n  const quantityCart = cart.reduce((acc, cur) => acc + cur.quantity, 0);\n  const priceCart = cart.reduce((acc, cur) => acc + cur.item.price * cur.quantity, 0);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart,\n      addItem,\n      removeItem,\n      clear,\n      quantityCart,\n      priceCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(CartProvider, \"ZqFaEIYkzI5UoYUmTgmqHbYYm/0=\");\n_c = CartProvider;\nexport default CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","useState","CartContext","CartProvider","children","cart","setCart","addItem","item","quantity","isInCart","id","newCart","map","cartItem","removeItem","itemId","filter","newCart2","clear","some","quantityCart","reduce","acc","cur","priceCart","price"],"sources":["C:/Users/Fefes/Desktop/Codo a Codo/React CURSO/Shopy Shop/shopy-shopyv3/src/context/cart/CartProvider.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { CartContext } from \"./CartContext\";\r\n\r\nconst CartProvider = ({ children }) => {\r\n  const [cart, setCart] = useState([]);\r\n\r\n  const addItem = (item, quantity) => {\r\n    if (isInCart(item.id)) {\r\n      const newCart = cart.map((cartItem) => {\r\n        if (cartItem.item.id === item.id) {\r\n          return { item, quantity: cartItem.quantity + 1 };\r\n        } else {\r\n          return cartItem;\r\n        }\r\n      });\r\n      setCart(newCart);\r\n    } else {\r\n      setCart([...cart, { item, quantity }]);\r\n    }\r\n  };\r\n\r\n  const removeItem = (itemId) => {\r\n    const newCart = cart.filter(\r\n      (cartItem) => cartItem.item.id !== itemId || cartItem.quantity > 1\r\n    );\r\n    const newCart2 = newCart.map((cartItem) => {\r\n      if (cartItem.item.id === itemId) {\r\n        return { item: cartItem.item, quantity: cartItem.quantity - 1 };\r\n      } else {\r\n        return cartItem;\r\n      }\r\n    });\r\n    setCart(newCart2);\r\n  };\r\n\r\n  const clear = () => {\r\n    setCart([]);\r\n  };\r\n\r\n  const isInCart = (itemId) => {\r\n    return cart.some((cartItem) => cartItem.item.id === itemId);\r\n  };\r\n\r\n  const quantityCart = cart.reduce((acc, cur) => acc + cur.quantity, 0);\r\n  const priceCart = cart.reduce((acc, cur) => acc + cur.item.price * cur.quantity, 0);\r\n\r\n  return (\r\n    <CartContext.Provider value={{ cart, addItem, removeItem, clear, quantityCart, priceCart }}>\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartProvider;\r\n\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,eAAe;AAAC;AAE5C,MAAMC,YAAY,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EAChC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAEpC,MAAMM,OAAO,GAAG,CAACC,IAAI,EAAEC,QAAQ,KAAK;IAClC,IAAIC,QAAQ,CAACF,IAAI,CAACG,EAAE,CAAC,EAAE;MACrB,MAAMC,OAAO,GAAGP,IAAI,CAACQ,GAAG,CAAEC,QAAQ,IAAK;QACrC,IAAIA,QAAQ,CAACN,IAAI,CAACG,EAAE,KAAKH,IAAI,CAACG,EAAE,EAAE;UAChC,OAAO;YAAEH,IAAI;YAAEC,QAAQ,EAAEK,QAAQ,CAACL,QAAQ,GAAG;UAAE,CAAC;QAClD,CAAC,MAAM;UACL,OAAOK,QAAQ;QACjB;MACF,CAAC,CAAC;MACFR,OAAO,CAACM,OAAO,CAAC;IAClB,CAAC,MAAM;MACLN,OAAO,CAAC,CAAC,GAAGD,IAAI,EAAE;QAAEG,IAAI;QAAEC;MAAS,CAAC,CAAC,CAAC;IACxC;EACF,CAAC;EAED,MAAMM,UAAU,GAAIC,MAAM,IAAK;IAC7B,MAAMJ,OAAO,GAAGP,IAAI,CAACY,MAAM,CACxBH,QAAQ,IAAKA,QAAQ,CAACN,IAAI,CAACG,EAAE,KAAKK,MAAM,IAAIF,QAAQ,CAACL,QAAQ,GAAG,CAAC,CACnE;IACD,MAAMS,QAAQ,GAAGN,OAAO,CAACC,GAAG,CAAEC,QAAQ,IAAK;MACzC,IAAIA,QAAQ,CAACN,IAAI,CAACG,EAAE,KAAKK,MAAM,EAAE;QAC/B,OAAO;UAAER,IAAI,EAAEM,QAAQ,CAACN,IAAI;UAAEC,QAAQ,EAAEK,QAAQ,CAACL,QAAQ,GAAG;QAAE,CAAC;MACjE,CAAC,MAAM;QACL,OAAOK,QAAQ;MACjB;IACF,CAAC,CAAC;IACFR,OAAO,CAACY,QAAQ,CAAC;EACnB,CAAC;EAED,MAAMC,KAAK,GAAG,MAAM;IAClBb,OAAO,CAAC,EAAE,CAAC;EACb,CAAC;EAED,MAAMI,QAAQ,GAAIM,MAAM,IAAK;IAC3B,OAAOX,IAAI,CAACe,IAAI,CAAEN,QAAQ,IAAKA,QAAQ,CAACN,IAAI,CAACG,EAAE,KAAKK,MAAM,CAAC;EAC7D,CAAC;EAED,MAAMK,YAAY,GAAGhB,IAAI,CAACiB,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKD,GAAG,GAAGC,GAAG,CAACf,QAAQ,EAAE,CAAC,CAAC;EACrE,MAAMgB,SAAS,GAAGpB,IAAI,CAACiB,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAKD,GAAG,GAAGC,GAAG,CAAChB,IAAI,CAACkB,KAAK,GAAGF,GAAG,CAACf,QAAQ,EAAE,CAAC,CAAC;EAEnF,oBACE,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE;MAAEJ,IAAI;MAAEE,OAAO;MAAEQ,UAAU;MAAEI,KAAK;MAAEE,YAAY;MAAEI;IAAU,CAAE;IAAA,UACxFrB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACY;AAE3B,CAAC;AAAC,GAhDID,YAAY;AAAA,KAAZA,YAAY;AAkDlB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}